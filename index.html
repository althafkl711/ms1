<!doctype html>
<html lang="en">
  <head>
  	<title>Contact Form 03</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	
	<link rel="stylesheet" href="style.css">

	</head>
	<body>
	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-md-6 text-center mb-5">
					<h2 class="heading-section">MS1 DataBook </h2>
				</div>
			</div>
			<div class="row justify-content-center">
				<div class="col-md-12">
					<div class="wrapper">
						
						<div class="row no-gutters">
							<div class="col-md-7">
								<div class="contact-wrap w-100 p-md-5 p-4">
									<h3 class="mb-4">Job Card</h3>
									<div id="form-message-warning" class="mb-4"></div> 
				      		<div id="msg" class="mb-4">
				            Your message was sent, thank you!
				      		</div>
									<form id="contactForm" name="contactForm" class="contactForm">
										<div class="row">
											<div class="col-md-6">
												<div class="form-group">
													<label class="label" for="InvoiceNumber">Invoice Number</label>
													<input type="number" class="form-control" name="InvoiceNumber" id="InvoiceNumber" placeholder="Invoice Number">
												</div>
											</div>
											<div class="col-md-6"> 
												<div class="form-group">
													<label class="label" for="VehicleNumber">Vehicle Number</label>
													<input type="text" class="form-control" name="VehicleNumber" id="VehicleNumber" placeholder="Vehicle Number">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="label" for="OwnerName">Owner Name</label>
													<input type="text" class="form-control" name="OwnerName" id="OwnerName" placeholder="Owner Name">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="label" for="TechnicianName">Technician Name</label>
													<input type="text" class="form-control" name="TechnicianName" id="TechnicianrName" placeholder="Technician Name">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="label" for="TotalBill">Total Bill Amount</label>
													<input type="number" class="form-control" name="TotalBill" id="TotalBill" placeholder="Total Bill">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="label" for="LaberCharge">Labour Charge</label>
													<input type="number" class="form-control" name="LabourCharge" id="LaberCharge" placeholder="Laber Charge">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="label" for="OldSpare">Old Spare Part Amount</label>
													<input type="number" class="form-control" name="OldSpare" id="OldSpare" placeholder="Old Spare Part Amount">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label class="label" for="NewSpare">New Spare Part Amount</label>
													<input type="number" class="form-control" name="NewSpare" id="NewSpare" placeholder="New Spare Part Amount">
												</div>
											</div>
											<div class="col-md-12">
												<div class="form-group">
													<label class="label" for="#">Service Details</label>
													<textarea name="ServiceDetails" class="form-control" id="ServiceDetails" cols="30" rows="4" placeholder="Service Details"></textarea>
												</div>
											</div>
											<div class="col-md-12">
												<div class="form-group">
													<input type="submit" value="Save Jobcard" id="sub" class="btn btn-primary">
													<div class="submitting"></div>
												</div>
											</div>
										</div>
									</form>
								</div>
							</div>
							
							<div class="col-md-5 d-flex align-items-stretch">
								<div class="info-wrap w-100 p-5 img" style="background-image: url(images/img.jpg);">
			          </div>
					  
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
	</section>

	<script src="js/jquery.min.js"></script>
  <script src="js/popper.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.validate.min.js"></script>
  <script src="js/main.js"></script>
  
  <script>
	let form = document.querySelector("form");
	// The document.querySelector() method returns the first element that matches a specified CSS selector.
	form.addEventListener('submit', (e) => {
		e.preventDefault();
		// The preventDefault() method stops the form from submitting and prevents the page from refreshing.
		document.querySelector("#sub").value = "Saving..";
		// Change the value of the submit button to "Submitting..." while the form is being submitted.
		let data = new FormData(form);
		// The FormData() method creates a new FormData object that contains the values of all the form fields.
		fetch('https://script.google.com/macros/s/AKfycbwuRkVJvVOMgtkFOOdXkDe57ZOR-0MbQPpjdMmsy45Y8jIXd_ILXtwp7C7d1IDHcrDn/exec', {
				method: "POST",
				body: data
			})
			// The fetch() method is used to make a request to the server and retrieve data.
			// This is an example API endpoint. Replace it with the actual URL for the API endpoint you want to use.
			.then(res => res.text())
			// The .then() method is used to handle the response from the server.
			// The response is converted to text using the res.text() method.
			.then(data => {
				document.querySelector("#msg").innerHTML = data;
				// The innerHTML property sets or returns the HTML content of an element.
				// Here, we are setting the content of the <h1> element to the response from the server.
				document.querySelector("#sub").value = "Save Jobcard"
				// Change the value of the submit button back to "Submit" after the form has been submitted.
			});
	})
</script>
	</body>
</html>

